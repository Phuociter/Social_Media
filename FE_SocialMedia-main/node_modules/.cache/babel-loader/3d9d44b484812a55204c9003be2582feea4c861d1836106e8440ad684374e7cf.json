{"ast":null,"code":"var _window;\nimport { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  user: JSON.parse((_window = window) === null || _window === void 0 ? void 0 : _window.localStorage.getItem(\"user\")),\n  edit: false\n};\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    login(state, action) {\n      console.log(\"User data received:\", action.payload);\n      state.user = action.payload;\n      window.localStorage.setItem(\"user\", JSON.stringify(action.payload));\n      // Không lưu vào localStorage\n    },\n\n    register(state, action) {\n      state.user = action.payload;\n      window.localStorage.setItem(\"user\", JSON.stringify(action.payload));\n    },\n    logout(state) {\n      state.user = null;\n      window.localStorage.removeItem(\"user\");\n      // Không xóa dữ liệu từ localStorage\n    },\n\n    updateProfile(state, action) {\n      state.edit = action.payload;\n    }\n  }\n});\nexport default userSlice.reducer;\n\n// Action creator dùng để dispatch action đăng nhập với dữ liệu từ API\nexport function UserLogin(user) {\n  return dispatch => {\n    dispatch(userSlice.actions.login(user));\n  };\n}\n\n// Nếu cần đăng ký, bạn phải định nghĩa reducer register trong slice, nếu không, loại bỏ UserRegister.\n_c = UserLogin;\nexport function UserRegister(user) {\n  return dispatch => {\n    // Giả sử bạn có reducer register, nếu không, loại bỏ function này.\n    dispatch(userSlice.actions.register(user));\n  };\n}\n_c2 = UserRegister;\nexport function Logout() {\n  return dispatch => {\n    dispatch(userSlice.actions.logout());\n  };\n}\n_c3 = Logout;\nexport function UpdateProfile(val) {\n  return dispatch => {\n    dispatch(userSlice.actions.updateProfile(val));\n  };\n}\n_c4 = UpdateProfile;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"UserLogin\");\n$RefreshReg$(_c2, \"UserRegister\");\n$RefreshReg$(_c3, \"Logout\");\n$RefreshReg$(_c4, \"UpdateProfile\");","map":{"version":3,"names":["createSlice","initialState","user","JSON","parse","_window","window","localStorage","getItem","edit","userSlice","name","reducers","login","state","action","console","log","payload","setItem","stringify","register","logout","removeItem","updateProfile","reducer","UserLogin","dispatch","actions","_c","UserRegister","_c2","Logout","_c3","UpdateProfile","val","_c4","$RefreshReg$"],"sources":["D:/code/XDPMTMHPL/doan/FE_SocialMedia-main/src/redux/userSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  user: JSON.parse(window?.localStorage.getItem(\"user\")),\r\n  edit: false,\r\n};\r\n\r\nconst userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState,\r\n  reducers: {\r\n    login(state, action) {\r\n      console.log(\"User data received:\", action.payload);\r\n      state.user = action.payload;\r\n      window.localStorage.setItem(\"user\", JSON.stringify(action.payload));\r\n      // Không lưu vào localStorage\r\n    },\r\n    register(state, action) {\r\n      state.user = action.payload;\r\n      window.localStorage.setItem(\"user\", JSON.stringify(action.payload));\r\n    },\r\n    logout(state) {\r\n      state.user = null;\r\n      window.localStorage.removeItem(\"user\");\r\n      // Không xóa dữ liệu từ localStorage\r\n    },\r\n    updateProfile(state, action) {\r\n      state.edit = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default userSlice.reducer;\r\n\r\n// Action creator dùng để dispatch action đăng nhập với dữ liệu từ API\r\nexport function UserLogin(user) {\r\n  return (dispatch) => {\r\n    dispatch(userSlice.actions.login(user));\r\n  };\r\n}\r\n\r\n// Nếu cần đăng ký, bạn phải định nghĩa reducer register trong slice, nếu không, loại bỏ UserRegister.\r\nexport function UserRegister(user) {\r\n  return (dispatch) => {\r\n    // Giả sử bạn có reducer register, nếu không, loại bỏ function này.\r\n    dispatch(userSlice.actions.register(user));\r\n  };\r\n}\r\n\r\nexport function Logout() {\r\n  return (dispatch) => {\r\n    dispatch(userSlice.actions.logout());\r\n  };\r\n}\r\n\r\nexport function UpdateProfile(val) {\r\n  return (dispatch) => {\r\n    dispatch(userSlice.actions.updateProfile(val));\r\n  };\r\n}\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAEC,IAAI,CAACC,KAAK,EAAAC,OAAA,GAACC,MAAM,cAAAD,OAAA,uBAANA,OAAA,CAAQE,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACtDC,IAAI,EAAE;AACR,CAAC;AAED,MAAMC,SAAS,GAAGV,WAAW,CAAC;EAC5BW,IAAI,EAAE,MAAM;EACZV,YAAY;EACZW,QAAQ,EAAE;IACRC,KAAKA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACnBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,MAAM,CAACG,OAAO,CAAC;MAClDJ,KAAK,CAACZ,IAAI,GAAGa,MAAM,CAACG,OAAO;MAC3BZ,MAAM,CAACC,YAAY,CAACY,OAAO,CAAC,MAAM,EAAEhB,IAAI,CAACiB,SAAS,CAACL,MAAM,CAACG,OAAO,CAAC,CAAC;MACnE;IACF,CAAC;;IACDG,QAAQA,CAACP,KAAK,EAAEC,MAAM,EAAE;MACtBD,KAAK,CAACZ,IAAI,GAAGa,MAAM,CAACG,OAAO;MAC3BZ,MAAM,CAACC,YAAY,CAACY,OAAO,CAAC,MAAM,EAAEhB,IAAI,CAACiB,SAAS,CAACL,MAAM,CAACG,OAAO,CAAC,CAAC;IACrE,CAAC;IACDI,MAAMA,CAACR,KAAK,EAAE;MACZA,KAAK,CAACZ,IAAI,GAAG,IAAI;MACjBI,MAAM,CAACC,YAAY,CAACgB,UAAU,CAAC,MAAM,CAAC;MACtC;IACF,CAAC;;IACDC,aAAaA,CAACV,KAAK,EAAEC,MAAM,EAAE;MAC3BD,KAAK,CAACL,IAAI,GAAGM,MAAM,CAACG,OAAO;IAC7B;EACF;AACF,CAAC,CAAC;AAEF,eAAeR,SAAS,CAACe,OAAO;;AAEhC;AACA,OAAO,SAASC,SAASA,CAACxB,IAAI,EAAE;EAC9B,OAAQyB,QAAQ,IAAK;IACnBA,QAAQ,CAACjB,SAAS,CAACkB,OAAO,CAACf,KAAK,CAACX,IAAI,CAAC,CAAC;EACzC,CAAC;AACH;;AAEA;AAAA2B,EAAA,GANgBH,SAAS;AAOzB,OAAO,SAASI,YAAYA,CAAC5B,IAAI,EAAE;EACjC,OAAQyB,QAAQ,IAAK;IACnB;IACAA,QAAQ,CAACjB,SAAS,CAACkB,OAAO,CAACP,QAAQ,CAACnB,IAAI,CAAC,CAAC;EAC5C,CAAC;AACH;AAAC6B,GAAA,GALeD,YAAY;AAO5B,OAAO,SAASE,MAAMA,CAAA,EAAG;EACvB,OAAQL,QAAQ,IAAK;IACnBA,QAAQ,CAACjB,SAAS,CAACkB,OAAO,CAACN,MAAM,CAAC,CAAC,CAAC;EACtC,CAAC;AACH;AAACW,GAAA,GAJeD,MAAM;AAMtB,OAAO,SAASE,aAAaA,CAACC,GAAG,EAAE;EACjC,OAAQR,QAAQ,IAAK;IACnBA,QAAQ,CAACjB,SAAS,CAACkB,OAAO,CAACJ,aAAa,CAACW,GAAG,CAAC,CAAC;EAChD,CAAC;AACH;AAACC,GAAA,GAJeF,aAAa;AAAA,IAAAL,EAAA,EAAAE,GAAA,EAAAE,GAAA,EAAAG,GAAA;AAAAC,YAAA,CAAAR,EAAA;AAAAQ,YAAA,CAAAN,GAAA;AAAAM,YAAA,CAAAJ,GAAA;AAAAI,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}