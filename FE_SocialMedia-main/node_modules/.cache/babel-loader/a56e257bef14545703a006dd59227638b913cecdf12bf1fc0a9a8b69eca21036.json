{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\XDPMTMHPL\\\\doan\\\\FE_SocialMedia-main\\\\src\\\\components\\\\FriendsCard.jsx\",\n  _s = $RefreshSig$();\n// src/components/FriendList.jsx\nimport React, { useEffect, useState } from 'react';\nimport FriendsCard from './FriendsCard';\nimport { getFriendList, unfriend } from '../api/FriendAPI';\nimport Loading from './Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FriendList = ({\n  currentUserId\n}) => {\n  _s();\n  const [friends, setFriends] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const fetchFriends = async () => {\n    try {\n      const data = await getFriendList(currentUserId);\n      setFriends(data);\n    } catch (error) {\n      console.error('Error fetching friend list:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchFriends();\n  }, [currentUserId]);\n  if (loading) return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Danh s\\xE1ch b\\u1EA1n b\\xE8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), friends.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Kh\\xF4ng c\\xF3 b\\u1EA1n b\\xE8 n\\xE0o.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"friend-list\",\n      children: friends.map(friendship => {\n        // Giả sử FriendsCard nhận prop \"friend\" chứa thông tin bạn bè.\n        // Nếu mối quan hệ lưu hai user, hãy xác định bạn là ai và bạn bè là user còn lại.\n        const friendId = friendship.userID1 === currentUserId ? friendship.userID2 : friendship.userID1;\n        return /*#__PURE__*/_jsxDEV(FriendsCard, {\n          friendId: friendId,\n          currentUserId: currentUserId,\n          onUnfriend: () => {\n            unfriend(currentUserId, friendId).then(fetchFriends);\n          }\n        }, friendship.friendshipID, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(FriendList, \"GluWeJ1iRXfQhrdorhvHk0aSAeM=\");\n_c = FriendList;\nexport default FriendList;\nvar _c;\n$RefreshReg$(_c, \"FriendList\");","map":{"version":3,"names":["React","useEffect","useState","FriendsCard","getFriendList","unfriend","Loading","jsxDEV","_jsxDEV","FriendList","currentUserId","_s","friends","setFriends","loading","setLoading","fetchFriends","data","error","console","fileName","_jsxFileName","lineNumber","columnNumber","children","length","className","map","friendship","friendId","userID1","userID2","onUnfriend","then","friendshipID","_c","$RefreshReg$"],"sources":["D:/code/XDPMTMHPL/doan/FE_SocialMedia-main/src/components/FriendsCard.jsx"],"sourcesContent":["// src/components/FriendList.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport FriendsCard from './FriendsCard';\r\nimport { getFriendList, unfriend } from '../api/FriendAPI';\r\nimport Loading from './Loading';\r\n\r\nconst FriendList = ({ currentUserId }) => {\r\n  const [friends, setFriends] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchFriends = async () => {\r\n    try {\r\n      const data = await getFriendList(currentUserId);\r\n      setFriends(data);\r\n    } catch (error) {\r\n      console.error('Error fetching friend list:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFriends();\r\n  }, [currentUserId]);\r\n\r\n  if (loading) return <Loading />;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Danh sách bạn bè</h2>\r\n      {friends.length === 0 ? (\r\n        <p>Không có bạn bè nào.</p>\r\n      ) : (\r\n        <div className=\"friend-list\">\r\n          {friends.map((friendship) => {\r\n            // Giả sử FriendsCard nhận prop \"friend\" chứa thông tin bạn bè.\r\n            // Nếu mối quan hệ lưu hai user, hãy xác định bạn là ai và bạn bè là user còn lại.\r\n            const friendId = friendship.userID1 === currentUserId ? friendship.userID2 : friendship.userID1;\r\n            return (\r\n              <FriendsCard\r\n                key={friendship.friendshipID}\r\n                friendId={friendId}\r\n                currentUserId={currentUserId}\r\n                onUnfriend={() => {\r\n                  unfriend(currentUserId, friendId).then(fetchFriends);\r\n                }}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FriendList;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,aAAa,EAAEC,QAAQ,QAAQ,kBAAkB;AAC1D,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAc,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMc,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMC,IAAI,GAAG,MAAMb,aAAa,CAACM,aAAa,CAAC;MAC/CG,UAAU,CAACI,IAAI,CAAC;IAClB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACrD,CAAC,SAAS;MACRH,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAEDd,SAAS,CAAC,MAAM;IACde,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACN,aAAa,CAAC,CAAC;EAEnB,IAAII,OAAO,EAAE,oBAAON,OAAA,CAACF,OAAO;IAAAc,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;EAE/B,oBACEf,OAAA;IAAAgB,QAAA,gBACEhB,OAAA;MAAAgB,QAAA,EAAI;IAAgB;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACxBX,OAAO,CAACa,MAAM,KAAK,CAAC,gBACnBjB,OAAA;MAAAgB,QAAA,EAAG;IAAoB;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAE3Bf,OAAA;MAAKkB,SAAS,EAAC,aAAa;MAAAF,QAAA,EACzBZ,OAAO,CAACe,GAAG,CAAEC,UAAU,IAAK;QAC3B;QACA;QACA,MAAMC,QAAQ,GAAGD,UAAU,CAACE,OAAO,KAAKpB,aAAa,GAAGkB,UAAU,CAACG,OAAO,GAAGH,UAAU,CAACE,OAAO;QAC/F,oBACEtB,OAAA,CAACL,WAAW;UAEV0B,QAAQ,EAAEA,QAAS;UACnBnB,aAAa,EAAEA,aAAc;UAC7BsB,UAAU,EAAEA,CAAA,KAAM;YAChB3B,QAAQ,CAACK,aAAa,EAAEmB,QAAQ,CAAC,CAACI,IAAI,CAACjB,YAAY,CAAC;UACtD;QAAE,GALGY,UAAU,CAACM,YAAY;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAM7B,CAAC;MAEN,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACZ,EAAA,CA/CIF,UAAU;AAAA0B,EAAA,GAAV1B,UAAU;AAiDhB,eAAeA,UAAU;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}